{"version":3,"sources":["../../../src/app/core/router.js"],"names":["initialize","routes","window","addEventListener","renderPage","setState","data","title","route","history","pushState","app","document","getElementById","request","parseRequesURL","page","fetchData","render","innerHTML","url","location","hash","slice","toLowerCase","split","resource","id","parsedURL"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;eAAe;AACXA,EAAAA,UADW,sBACAC,MADA,EACQ;AAAA;;AACf,SAAKA,MAAL,GAAcA,MAAd,CADe,CAEf;;AACAC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAsC;AAAA,aAAM,KAAI,CAACC,UAAL,EAAN;AAAA,KAAtC,EAHe,CAKf;;AACAF,IAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC;AAAA,aAAM,KAAI,CAACC,UAAL,EAAN;AAAA,KAAhC;AACH,GARU;AASXC,EAAAA,QATW,0BASsB;AAAA,QAAtBC,IAAsB,QAAtBA,IAAsB;AAAA,QAAhBC,KAAgB,QAAhBA,KAAgB;AAAA,QAATC,KAAS,QAATA,KAAS;AAC7BN,IAAAA,MAAM,CAACO,OAAP,CAAeC,SAAf,CAAyBJ,IAAzB,EAA+BC,KAA/B,EAAsCC,KAAtC;AACH,GAXU;AAYLJ,EAAAA,UAZK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaDO,cAAAA,GAbC,GAaKC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAbL;AAcDC,cAAAA,OAdC,GAcS,KAAKC,cAAL,EAdT;AAeDC,cAAAA,IAfC,GAeM,KAAKf,MAAL,CAAYa,OAAZ,KAAwB,KAAKb,MAAL,CAAY,QAAZ,CAf9B;;AAAA,mBAiBHe,IAAI,CAACC,SAjBF;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAkBGD,IAAI,CAACC,SAAL,EAlBH;;AAAA;AAAA;AAAA,qBAoBeD,IAAI,CAACE,MAAL,EApBf;;AAAA;AAoBPP,cAAAA,GAAG,CAACQ,SApBG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAsBXJ,EAAAA,cAtBW,4BAsBM;AACb,QAAMK,GAAG,GAAGlB,MAAM,CAACmB,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,CAA3B,EAA8BC,WAA9B,MAA+C,GAA3D;AACA,QAAMF,IAAI,GAAGF,GAAG,CAACK,KAAJ,CAAU,GAAV,CAAb;AAEA,QAAMC,QAAQ,GAAGJ,IAAI,CAAC,CAAD,CAAJ,IAAW,IAA5B;AACA,QAAMK,EAAE,GAAGL,IAAI,CAAC,CAAD,CAAJ,IAAW,IAAtB;AAEA,QAAIM,SAAS,GAAG,GAAhB;;AACA,QAAIF,QAAJ,EAAc;AACVE,MAAAA,SAAS,IAAIF,QAAb;AACH;;AACD,QAAIC,EAAJ,EAAQ;AACJC,MAAAA,SAAS,eAAQD,EAAR,CAAT;AACH;;AACD,WAAOC,SAAP;AACH;AArCU,C","sourcesContent":["export default {\n    initialize(routes) {\n        this.routes = routes;\n        // Listen on hash change:\n        window.addEventListener('hashchange', () => this.renderPage());\n\n        // Listen on page load:\n        window.addEventListener('load', () => this.renderPage());\n    },\n    setState({ data, title, route }) {\n        window.history.pushState(data, title, route);\n    },\n    async renderPage() {\n        const app = document.getElementById('root');\n        const request = this.parseRequesURL();\n        const page = this.routes[request] || this.routes['/error'];\n\n        if (page.fetchData) {\n            await page.fetchData();\n        }\n        app.innerHTML = await page.render();\n    },\n    parseRequesURL() {\n        const url = window.location.hash.slice(1).toLowerCase() || '/';\n        const hash = url.split('/');\n\n        const resource = hash[1] || null;\n        const id = hash[2] || null;\n\n        let parsedURL = '/';\n        if (resource) {\n            parsedURL += resource;\n        }\n        if (id) {\n            parsedURL += `/${id}`;\n        }\n        return parsedURL;\n    }\n};\n"],"file":"router.js"}